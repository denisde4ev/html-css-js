doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Emoji Picker
    script(src="./lib/tw4.js")
    script.
      tailwind.config = {
        darkMode: 'media',
        theme: {
          extend: {
            animation: {
              'fade-in': 'fadeIn 0.2s ease-in-out',
              'scale-in': 'scaleIn 0.1s ease-out'
            }
          }
        }
      }
    style.
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes scaleIn {
        from { transform: scale(0.95); }
        to { transform: scale(1); }
      }
      .emoji-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(3rem, 1fr));
        gap: 0.5rem;
      }
      @media (min-width: 640px) {
        .emoji-grid {
          grid-template-columns: repeat(9, 1fr);
        }
      }
      .emoji-item {
        aspect-ratio: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        cursor: pointer;
        border-radius: 0.5rem;
        transition: all 0.15s ease;
        border: 2px solid transparent;
      }
      .emoji-item:hover {
        background-color: rgba(59, 130, 246, 0.1);
        transform: scale(1.1);
      }
      .emoji-item:focus {
        outline: none;
        border-color: #3b82f6;
        background-color: rgba(59, 130, 246, 0.2);
      }
      .emoji-item.selected {
        background-color: #3b82f6;
        color: white;
        border-color: #1d4ed8;
      }
      .dark .emoji-item:hover {
        background-color: rgba(59, 130, 246, 0.2);
      }
      .dark .emoji-item:focus {
        background-color: rgba(59, 130, 246, 0.3);
      }
      .tooltip {
        position: absolute;
        z-index: 1000;
        pointer-events: none;
        transform: translate(-50%, -100%);
        margin-top: -0.5rem;
      }

  body.bg-gray-50.dark\:bg-gray-900.text-gray-900.dark\:text-gray-100.min-h-screen.font-sans
    .container.mx-auto.px-4.py-6.max-w-4xl
      // Header
      header.mb-6
        h1.text-3xl.font-bold.text-center.mb-2 Emoji Picker
        .text-center.text-sm.text-gray-600.dark\:text-gray-400
          p Use arrow keys to navigate, Tab to switch categories, Enter to select
          .mt-2.flex.flex-wrap.justify-center.gap-2.text-xs
            button#toggleOutput.px-3.py-1.rounded-full.bg-blue-100.dark\:bg-blue-900.text-blue-800.dark\:text-blue-200.hover:bg-blue-200.dark\:hover:bg-blue-800.transition-colors(
              role="switch"
              aria-checked="false"
              aria-label="Toggle output format"
            )
              span#outputFormat Unicode
            button#copyMode.px-3.py-1.rounded-full.bg-green-100.dark\:bg-green-900.text-green-800.dark\:text-green-200.hover:bg-green-200.dark\:hover:bg-green-800.transition-colors(
              aria-label="Copy to clipboard mode"
            ) Copy Mode

      // Category tabs
      nav.mb-6(
        role="tablist"
        aria-label="Emoji categories"
      )
        .flex.flex-wrap.gap-2.justify-center
          each category, index in categories
            button.category-tab.px-4.py-2.rounded-lg.border-2.border-transparent.transition-all.focus:outline-none.focus:ring-2.focus:ring-blue-500.focus:ring-offset-2.dark\:focus:ring-offset-gray-900(
              role="tab"
              aria-selected=index === 0 ? "true" : "false"
              aria-controls=`panel-${index}`
              tabindex=index === 0 ? "0" : "-1"
              data-category=index
              class=index === 0 ? "bg-blue-500 text-white border-blue-500" : "bg-white dark\:bg-gray-800 text-gray-700 dark\:text-gray-300 border-gray-200 dark\:border-gray-700 hover:bg-gray-50 dark\:hover:bg-gray-700"
            )
              .flex.items-center.gap-2
                span.text-lg= category.icon
                span.text-sm.font-medium.hidden.sm:inline= category.name

      // Search bar
      .mb-6
        .relative
          input#searchInput.w-full.px-4.py-3.pr-10.rounded-lg.border.border-gray-300.dark\:border-gray-600.bg-white.dark\:bg-gray-800.focus:outline-none.focus:ring-2.focus:ring-blue-500.focus:border-transparent(
            type="text"
            placeholder="Search emojis..."
            aria-label="Search emojis"
            autocomplete="off"
          )
          .absolute.inset-y-0.right-0.flex.items-center.pr-3
            svg.w-5.h-5.text-gray-400(fill="none" stroke="currentColor" viewBox="0 0 24 24")
              path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z")

      // Emoji panels
      .emoji-panels
        each category, categoryIndex in categories
          .emoji-panel.hidden(
            role="tabpanel"
            id=`panel-${categoryIndex}`
            aria-labelledby=`tab-${categoryIndex}`
            class=categoryIndex === 0 ? "block" : "hidden"
          )
            .bg-white.dark\:bg-gray-800.rounded-lg.shadow-md.border.border-gray-200.dark\:border-gray-700
              .p-6
                h2.text-lg.font-semibold.mb-4.flex.items-center.gap-2
                  span.text-2xl= category.icon
                  span= category.name
                .emoji-grid(
                  role="grid"
                  aria-label=`${category.name} emojis`
                  data-category=categoryIndex
                )
                  each emoji, emojiIndex in category.emojis
                    button.emoji-item(
                      role="gridcell"
                      tabindex=categoryIndex === 0 && emojiIndex === 0 ? "0" : "-1"
                      data-emoji=emoji.unicode
                      data-name=emoji.name
                      data-category=categoryIndex
                      data-index=emojiIndex
                      aria-label=`${emoji.name} emoji`
                      title=`:${emoji.name}`
                    )= emoji.unicode

      // Selected emoji display
      .mt-6.text-center
        .bg-white.dark\:bg-gray-800.rounded-lg.shadow-md.border.border-gray-200.dark\:border-gray-700.p-6
          h3.text-lg.font-semibold.mb-2 Selected Emoji
          .text-6xl.mb-2
            span#selectedEmoji ðŸ˜€
          .text-gray-600.dark\:text-gray-400.mb-4
            code#selectedName :grinning
          .flex.gap-2.justify-center.flex-wrap
            button#copyButton.px-4.py-2.bg-blue-500.hover:bg-blue-600.text-white.rounded-lg.transition-colors.focus:outline-none.focus:ring-2.focus:ring-blue-500.focus:ring-offset-2.dark\:focus:ring-offset-gray-900(
              aria-label="Copy selected emoji"
            ) Copy
            button#insertButton.px-4.py-2.bg-green-500.hover:bg-green-600.text-white.rounded-lg.transition-colors.focus:outline-none.focus:ring-2.focus:ring-green-500.focus:ring-offset-2.dark\:focus:ring-offset-gray-900(
              aria-label="Insert emoji into active input"
            ) Insert

      // Tooltip
      .tooltip.hidden.animate-fade-in(
        role="tooltip"
        id="emojiTooltip"
        aria-live="polite"
      )
        .bg-gray-900.dark\:bg-gray-100.text-white.dark\:text-gray-900.px-3.py-2.rounded-lg.shadow-lg.text-sm.font-medium.animate-scale-in

      // Mobile-specific instructions
      .mt-6.text-center.text-sm.text-gray-500.dark\:text-gray-400.sm:hidden
        p Tap emojis to select, long press for details

    script.
      // Emoji data structure
      const categories = [
        {
          name: "Smileys & Emotions",
          icon: "ðŸ˜€",
          emojis: [
            { name: "grinning", unicode: "ðŸ˜€" },
            { name: "smile", unicode: "ðŸ˜„" },
            { name: "happy", unicode: "ðŸ˜Š" },
            { name: "grin", unicode: "ðŸ˜" },
            { name: "laughing", unicode: "ðŸ˜‚" },
            { name: "sweat_smile", unicode: "ðŸ˜…" },
            { name: "rolling_on_the_floor_laughing", unicode: "ðŸ¤£" },
            { name: "joy", unicode: "ðŸ˜‚" },
            { name: "slightly_smiling_face", unicode: "ðŸ™‚" },
            { name: "upside_down_face", unicode: "ðŸ™ƒ" },
            { name: "wink", unicode: "ðŸ˜‰" },
            { name: "blush", unicode: "ðŸ˜Š" },
            { name: "innocent", unicode: "ðŸ˜‡" },
            { name: "heart_eyes", unicode: "ðŸ˜" },
            { name: "star_struck", unicode: "ðŸ¤©" },
            { name: "kissing_heart", unicode: "ðŸ˜˜" },
            { name: "kissing", unicode: "ðŸ˜—" },
            { name: "relaxed", unicode: "â˜ºï¸" },
            { name: "kissing_closed_eyes", unicode: "ðŸ˜š" },
            { name: "kissing_smiling_eyes", unicode: "ðŸ˜™" },
            { name: "smiling_face_with_tear", unicode: "ðŸ¥²" },
            { name: "yum", unicode: "ðŸ˜‹" },
            { name: "stuck_out_tongue", unicode: "ðŸ˜›" },
            { name: "stuck_out_tongue_winking_eye", unicode: "ðŸ˜œ" },
            { name: "zany_face", unicode: "ðŸ¤ª" },
            { name: "stuck_out_tongue_closed_eyes", unicode: "ðŸ˜" },
            { name: "money_mouth_face", unicode: "ðŸ¤‘" },
            { name: "hugging_face", unicode: "ðŸ¤—" },
            { name: "hand_over_mouth", unicode: "ðŸ¤­" },
            { name: "shushing_face", unicode: "ðŸ¤«" },
            { name: "thinking_face", unicode: "ðŸ¤”" },
            { name: "zipper_mouth_face", unicode: "ðŸ¤" },
            { name: "raised_eyebrow", unicode: "ðŸ¤¨" },
            { name: "neutral_face", unicode: "ðŸ˜" },
            { name: "expressionless", unicode: "ðŸ˜‘" },
            { name: "no_mouth", unicode: "ðŸ˜¶" },
            { name: "smirk", unicode: "ðŸ˜" },
            { name: "unamused", unicode: "ðŸ˜’" },
            { name: "roll_eyes", unicode: "ðŸ™„" },
            { name: "grimacing", unicode: "ðŸ˜¬" },
            { name: "lying_face", unicode: "ðŸ¤¥" },
            { name: "relieved", unicode: "ðŸ˜Œ" },
            { name: "pensive", unicode: "ðŸ˜”" },
            { name: "sleepy", unicode: "ðŸ˜ª" },
            { name: "drooling_face", unicode: "ðŸ¤¤" },
            { name: "sleeping", unicode: "ðŸ˜´" }
          ]
        },
        {
          name: "People & Body",
          icon: "ðŸ‘‹",
          emojis: [
            { name: "wave", unicode: "ðŸ‘‹" },
            { name: "raised_hand", unicode: "âœ‹" },
            { name: "raised_hand_with_fingers_splayed", unicode: "ðŸ–ï¸" },
            { name: "vulcan_salute", unicode: "ðŸ––" },
            { name: "ok_hand", unicode: "ðŸ‘Œ" },
            { name: "pinched_fingers", unicode: "ðŸ¤Œ" },
            { name: "pinching_hand", unicode: "ðŸ¤" },
            { name: "v", unicode: "âœŒï¸" },
            { name: "crossed_fingers", unicode: "ðŸ¤ž" },
            { name: "love_you_gesture", unicode: "ðŸ¤Ÿ" },
            { name: "metal", unicode: "ðŸ¤˜" },
            { name: "call_me_hand", unicode: "ðŸ¤™" },
            { name: "point_left", unicode: "ðŸ‘ˆ" },
            { name: "point_right", unicode: "ðŸ‘‰" },
            { name: "point_up_2", unicode: "ðŸ‘†" },
            { name: "middle_finger", unicode: "ðŸ–•" },
            { name: "point_down", unicode: "ðŸ‘‡" },
            { name: "point_up", unicode: "â˜ï¸" },
            { name: "thumbsup", unicode: "ðŸ‘" },
            { name: "thumbsdown", unicode: "ðŸ‘Ž" },
            { name: "fist", unicode: "âœŠ" },
            { name: "fist_oncoming", unicode: "ðŸ‘Š" },
            { name: "facepunch", unicode: "ðŸ‘Š" },
            { name: "left_facing_fist", unicode: "ðŸ¤›" },
            { name: "right_facing_fist", unicode: "ðŸ¤œ" },
            { name: "clap", unicode: "ðŸ‘" },
            { name: "raised_hands", unicode: "ðŸ™Œ" },
            { name: "open_hands", unicode: "ðŸ‘" },
            { name: "palms_up_together", unicode: "ðŸ¤²" },
            { name: "handshake", unicode: "ðŸ¤" },
            { name: "pray", unicode: "ðŸ™" },
            { name: "writing_hand", unicode: "âœï¸" },
            { name: "nail_care", unicode: "ðŸ’…" },
            { name: "selfie", unicode: "ðŸ¤³" },
            { name: "muscle", unicode: "ðŸ’ª" },
            { name: "mechanical_arm", unicode: "ðŸ¦¾" },
            { name: "mechanical_leg", unicode: "ðŸ¦¿" },
            { name: "leg", unicode: "ðŸ¦µ" },
            { name: "foot", unicode: "ðŸ¦¶" },
            { name: "ear", unicode: "ðŸ‘‚" },
            { name: "ear_with_hearing_aid", unicode: "ðŸ¦»" },
            { name: "nose", unicode: "ðŸ‘ƒ" },
            { name: "brain", unicode: "ðŸ§ " },
            { name: "anatomical_heart", unicode: "ðŸ«€" },
            { name: "lungs", unicode: "ðŸ«" },
            { name: "tooth", unicode: "ðŸ¦·" },
            { name: "bone", unicode: "ðŸ¦´" },
            { name: "eyes", unicode: "ðŸ‘€" },
            { name: "eye", unicode: "ðŸ‘ï¸" },
            { name: "tongue", unicode: "ðŸ‘…" },
            { name: "lips", unicode: "ðŸ‘„" }
          ]
        },
        {
          name: "Animals & Nature",
          icon: "ðŸµ",
          emojis: [
            { name: "monkey_face", unicode: "ðŸµ" },
            { name: "monkey", unicode: "ðŸ’" },
            { name: "gorilla", unicode: "ðŸ¦" },
            { name: "orangutan", unicode: "ðŸ¦§" },
            { name: "dog", unicode: "ðŸ¶" },
            { name: "dog2", unicode: "ðŸ•" },
            { name: "guide_dog", unicode: "ðŸ¦®" },
            { name: "service_dog", unicode: "ðŸ•â€ðŸ¦º" },
            { name: "poodle", unicode: "ðŸ©" },
            { name: "wolf", unicode: "ðŸº" },
            { name: "fox_face", unicode: "ðŸ¦Š" },
            { name: "raccoon", unicode: "ðŸ¦" },
            { name: "cat", unicode: "ðŸ±" },
            { name: "cat2", unicode: "ðŸˆ" },
            { name: "black_cat", unicode: "ðŸˆâ€â¬›" },
            { name: "lion", unicode: "ðŸ¦" },
            { name: "tiger", unicode: "ðŸ¯" },
            { name: "tiger2", unicode: "ðŸ…" },
            { name: "leopard", unicode: "ðŸ†" },
            { name: "horse", unicode: "ðŸ´" },
            { name: "racehorse", unicode: "ðŸŽ" },
            { name: "unicorn", unicode: "ðŸ¦„" },
            { name: "zebra", unicode: "ðŸ¦“" },
            { name: "deer", unicode: "ðŸ¦Œ" },
            { name: "bison", unicode: "ðŸ¦¬" },
            { name: "cow", unicode: "ðŸ®" },
            { name: "ox", unicode: "ðŸ‚" },
            { name: "water_buffalo", unicode: "ðŸƒ" },
            { name: "cow2", unicode: "ðŸ„" },
            { name: "pig", unicode: "ðŸ·" },
            { name: "pig2", unicode: "ðŸ–" },
            { name: "boar", unicode: "ðŸ—" },
            { name: "pig_nose", unicode: "ðŸ½" },
            { name: "ram", unicode: "ðŸ" },
            { name: "sheep", unicode: "ðŸ‘" },
            { name: "goat", unicode: "ðŸ" },
            { name: "dromedary_camel", unicode: "ðŸª" },
            { name: "camel", unicode: "ðŸ«" },
            { name: "llama", unicode: "ðŸ¦™" },
            { name: "giraffe", unicode: "ðŸ¦’" },
            { name: "elephant", unicode: "ðŸ˜" },
            { name: "mammoth", unicode: "ðŸ¦£" },
            { name: "rhinoceros", unicode: "ðŸ¦" },
            { name: "hippopotamus", unicode: "ðŸ¦›" },
            { name: "mouse", unicode: "ðŸ­" },
            { name: "mouse2", unicode: "ðŸ" },
            { name: "rat", unicode: "ðŸ€" },
            { name: "hamster", unicode: "ðŸ¹" },
            { name: "rabbit", unicode: "ðŸ°" },
            { name: "rabbit2", unicode: "ðŸ‡" }
          ]
        },
        {
          name: "Food & Drink",
          icon: "â˜•",
          emojis: [
            { name: "grapes", unicode: "ðŸ‡" },
            { name: "melon", unicode: "ðŸˆ" },
            { name: "watermelon", unicode: "ðŸ‰" },
            { name: "tangerine", unicode: "ðŸŠ" },
            { name: "lemon", unicode: "ðŸ‹" },
            { name: "banana", unicode: "ðŸŒ" },
            { name: "pineapple", unicode: "ðŸ" },
            { name: "mango", unicode: "ðŸ¥­" },
            { name: "apple", unicode: "ðŸŽ" },
            { name: "green_apple", unicode: "ðŸ" },
            { name: "pear", unicode: "ðŸ" },
            { name: "peach", unicode: "ðŸ‘" },
            { name: "cherries", unicode: "ðŸ’" },
            { name: "strawberry", unicode: "ðŸ“" },
            { name: "blueberries", unicode: "ðŸ«" },
            { name: "kiwi_fruit", unicode: "ðŸ¥" },
            { name: "tomato", unicode: "ðŸ…" },
            { name: "olive", unicode: "ðŸ«’" },
            { name: "coconut", unicode: "ðŸ¥¥" },
            { name: "avocado", unicode: "ðŸ¥‘" },
            { name: "eggplant", unicode: "ðŸ†" },
            { name: "potato", unicode: "ðŸ¥”" },
            { name: "carrot", unicode: "ðŸ¥•" },
            { name: "corn", unicode: "ðŸŒ½" },
            { name: "hot_pepper", unicode: "ðŸŒ¶ï¸" },
            { name: "bell_pepper", unicode: "ðŸ«‘" },
            { name: "cucumber", unicode: "ðŸ¥’" },
            { name: "leafy_greens", unicode: "ðŸ¥¬" },
            { name: "broccoli", unicode: "ðŸ¥¦" },
            { name: "garlic", unicode: "ðŸ§„" },
            { name: "onion", unicode: "ðŸ§…" },
            { name: "mushroom", unicode: "ðŸ„" },
            { name: "peanuts", unicode: "ðŸ¥œ" },
            { name: "chestnut", unicode: "ðŸŒ°" },
            { name: "bread", unicode: "ðŸž" },
            { name: "croissant", unicode: "ðŸ¥" },
            { name: "baguette_bread", unicode: "ðŸ¥–" },
            { name: "flatbread", unicode: "ðŸ«“" },
            { name: "pretzel", unicode: "ðŸ¥¨" },
            { name: "bagel", unicode: "ðŸ¥¯" },
            { name: "pancakes", unicode: "ðŸ¥ž" },
            { name: "waffle", unicode: "ðŸ§‡" },
            { name: "cheese", unicode: "ðŸ§€" },
            { name: "meat_on_bone", unicode: "ðŸ–" },
            { name: "poultry_leg", unicode: "ðŸ—" },
            { name: "cut_of_meat", unicode: "ðŸ¥©" },
            { name: "bacon", unicode: "ðŸ¥“" },
            { name: "hamburger", unicode: "ðŸ”" },
            { name: "fries", unicode: "ðŸŸ" },
            { name: "pizza", unicode: "ðŸ•" },
            { name: "hotdog", unicode: "ðŸŒ­" },
            { name: "sandwich", unicode: "ðŸ¥ª" },
            { name: "taco", unicode: "ðŸŒ®" },
            { name: "burrito", unicode: "ðŸŒ¯" },
            { name: "tamale", unicode: "ðŸ«”" },
            { name: "stuffed_flatbread", unicode: "ðŸ¥™" },
            { name: "falafel", unicode: "ðŸ§†" },
            { name: "egg", unicode: "ðŸ¥š" },
            { name: "fried_egg", unicode: "ðŸ³" },
            { name: "shallow_pan_of_food", unicode: "ðŸ¥˜" },
            { name: "stew", unicode: "ðŸ²" },
            { name: "fondue", unicode: "ðŸ«•" },
            { name: "bowl_with_spoon", unicode: "ðŸ¥£" },
            { name: "green_salad", unicode: "ðŸ¥—" },
            { name: "popcorn", unicode: "ðŸ¿" },
            { name: "butter", unicode: "ðŸ§ˆ" },
            { name: "salt", unicode: "ðŸ§‚" },
            { name: "canned_food", unicode: "ðŸ¥«" },
            { name: "bento", unicode: "ðŸ±" },
            { name: "rice_cracker", unicode: "ðŸ˜" },
            { name: "rice_ball", unicode: "ðŸ™" },
            { name: "rice", unicode: "ðŸš" },
            { name: "curry", unicode: "ðŸ›" },
            { name: "ramen", unicode: "ðŸœ" },
            { name: "spaghetti", unicode: "ðŸ" },
            { name: "sweet_potato", unicode: "ðŸ " },
            { name: "oden", unicode: "ðŸ¢" },
            { name: "sushi", unicode: "ðŸ£" },
            { name: "fried_shrimp", unicode: "ðŸ¤" },
            { name: "fish_cake", unicode: "ðŸ¥" },
            { name: "moon_cake", unicode: "ðŸ¥®" },
            { name: "dango", unicode: "ðŸ¡" },
            { name: "dumpling", unicode: "ðŸ¥Ÿ" },
            { name: "fortune_cookie", unicode: "ðŸ¥ " },
            { name: "takeout_box", unicode: "ðŸ¥¡" },
            { name: "crab", unicode: "ðŸ¦€" },
            { name: "lobster", unicode: "ðŸ¦ž" },
            { name: "shrimp", unicode: "ðŸ¦" },
            { name: "squid", unicode: "ðŸ¦‘" },
            { name: "oyster", unicode: "ðŸ¦ª" },
            { name: "icecream", unicode: "ðŸ¦" },
            { name: "shaved_ice", unicode: "ðŸ§" },
            { name: "ice_cream", unicode: "ðŸ¨" },
            { name: "doughnut", unicode: "ðŸ©" },
            { name: "cookie", unicode: "ðŸª" },
            { name: "birthday", unicode: "ðŸŽ‚" },
            { name: "cake", unicode: "ðŸ°" },
            { name: "cupcake", unicode: "ðŸ§" },
            { name: "pie", unicode: "ðŸ¥§" },
            { name: "chocolate_bar", unicode: "ðŸ«" },
            { name: "candy", unicode: "ðŸ¬" },
            { name: "lollipop", unicode: "ðŸ­" },
            { name: "custard", unicode: "ðŸ®" },
            { name: "honey_pot", unicode: "ðŸ¯" },
            { name: "baby_bottle", unicode: "ðŸ¼" },
            { name: "milk_glass", unicode: "ðŸ¥›" },
            { name: "coffee", unicode: "â˜•" },
            { name: "teapot", unicode: "ðŸ«–" },
            { name: "tea", unicode: "ðŸµ" },
            { name: "sake", unicode: "ðŸ¶" },
            { name: "champagne", unicode: "ðŸ¾" },
            { name: "wine_glass", unicode: "ðŸ·" },
            { name: "cocktail", unicode: "ðŸ¸" },
            { name: "tropical_drink", unicode: "ðŸ¹" },
            { name: "beer", unicode: "ðŸº" },
            { name: "beers", unicode: "ðŸ»" },
            { name: "clinking_glasses", unicode: "ðŸ¥‚" },
            { name: "tumbler_glass", unicode: "ðŸ¥ƒ" },
            { name: "cup_with_straw", unicode: "ðŸ¥¤" },
            { name: "bubble_tea", unicode: "ðŸ§‹" },
            { name: "beverage_box", unicode: "ðŸ§ƒ" },
            { name: "mate", unicode: "ðŸ§‰" },
            { name: "ice_cube", unicode: "ðŸ§Š" },
            { name: "chopsticks", unicode: "ðŸ¥¢" },
            { name: "plate_with_cutlery", unicode: "ðŸ½ï¸" },
            { name: "fork_and_knife", unicode: "ðŸ´" },
            { name: "spoon", unicode: "ðŸ¥„" },
            { name: "hocho", unicode: "ðŸ”ª" },
            { name: "amphora", unicode: "ðŸº" }
          ]
        },
        {
          name: "Travel & Places",
          icon: "â˜”",
          emojis: [
            { name: "earth_africa", unicode: "ðŸŒ" },
            { name: "earth_americas", unicode: "ðŸŒŽ" },
            { name: "earth_asia", unicode: "ðŸŒ" },
            { name: "globe_with_meridians", unicode: "ðŸŒ" },
            { name: "world_map", unicode: "ðŸ—ºï¸" },
            { name: "japan", unicode: "ðŸ—¾" },
            { name: "compass", unicode: "ðŸ§­" },
            { name: "mountain_snow", unicode: "ðŸ”ï¸" },
            { name: "mountain", unicode: "â›°ï¸" },
            { name: "volcano", unicode: "ðŸŒ‹" },
            { name: "mount_fuji", unicode: "ðŸ—»" },
            { name: "camping", unicode: "ðŸ•ï¸" },
            { name: "beach_umbrella", unicode: "ðŸ–ï¸" },
            { name: "desert", unicode: "ðŸœï¸" },
            { name: "desert_island", unicode: "ðŸï¸" },
            { name: "national_park", unicode: "ðŸžï¸" },
            { name: "stadium", unicode: "ðŸŸï¸" },
            { name: "classical_building", unicode: "ðŸ›ï¸" },
            { name: "building_construction", unicode: "ðŸ—ï¸" },
            { name: "bricks", unicode: "ðŸ§±" },
            { name: "rock", unicode: "ðŸª¨" },
            { name: "wood", unicode: "ðŸªµ" },
            { name: "hut", unicode: "ðŸ›–" },
            { name: "houses", unicode: "ðŸ˜ï¸" },
            { name: "derelict_house", unicode: "ðŸšï¸" },
            { name: "house", unicode: "ðŸ " },
            { name: "house_with_garden", unicode: "ðŸ¡" },
            { name: "office", unicode: "ðŸ¢" },
            { name: "post_office", unicode: "ðŸ£" },
            { name: "european_post_office", unicode: "ðŸ¤" },
            { name: "hospital", unicode: "ðŸ¥" },
            { name: "bank", unicode: "ðŸ¦" },
            { name: "hotel", unicode: "ðŸ¨" },
            { name: "love_hotel", unicode: "ðŸ©" },
            { name: "convenience_store", unicode: "ðŸª" },
            { name: "school", unicode: "ðŸ«" },
            { name: "department_store", unicode: "ðŸ¬" },
            { name: "factory", unicode: "ðŸ­" },
            { name: "japanese_castle", unicode: "ðŸ¯" },
            { name: "european_castle", unicode: "ðŸ°" },
            { name: "wedding", unicode: "ðŸ’’" },
            { name: "tokyo_tower", unicode: "ðŸ—¼" },
            { name: "statue_of_liberty", unicode: "ðŸ—½" },
            { name: "church", unicode: "â›ª" },
            { name: "mosque", unicode: "ðŸ•Œ" },
            { name: "hindu_temple", unicode: "ðŸ›•" },
            { name: "synagogue", unicode: "ðŸ•" },
            { name: "shinto_shrine", unicode: "â›©ï¸" },
            { name: "kaaba", unicode: "ðŸ•‹" }
          ]
        },
        {
          name: "Activities",
          icon: "âœ¨",
          emojis: [
            { name: "sparkles", unicode: "âœ¨" },
            { name: "jack_o_lantern", unicode: "ðŸŽƒ" },
            { name: "christmas_tree", unicode: "ðŸŽ„" },
            { name: "fireworks", unicode: "ðŸŽ†" },
            { name: "sparkler", unicode: "ðŸŽ‡" },
            { name: "firecracker", unicode: "ðŸ§¨" },
            { name: "balloon", unicode: "ðŸŽˆ" },
            { name: "tada", unicode: "ðŸŽ‰" },
            { name: "confetti_ball", unicode: "ðŸŽŠ" },
            { name: "tanabata_tree", unicode: "ðŸŽ‹" },
            { name: "bamboo", unicode: "ðŸŽ" },
            { name: "dolls", unicode: "ðŸŽŽ" },
            { name: "flags", unicode: "ðŸŽ" },
            { name: "wind_chime", unicode: "ðŸŽ" },
            { name: "rice_scene", unicode: "ðŸŽ‘" },
            { name: "red_envelope", unicode: "ðŸ§§" },
            { name: "ribbon", unicode: "ðŸŽ€" },
            { name: "gift", unicode: "ðŸŽ" },
            { name: "reminder_ribbon", unicode: "ðŸŽ—ï¸" },
            { name: "tickets", unicode: "ðŸŽŸï¸" },
            { name: "ticket", unicode: "ðŸŽ«" },
            { name: "medal_military", unicode: "ðŸŽ–ï¸" },
            { name: "trophy", unicode: "ðŸ†" },
            { name: "medal_sports", unicode: "ðŸ…" },
            { name: "1st_place_medal", unicode: "ðŸ¥‡" },
            { name: "2nd_place_medal", unicode: "ðŸ¥ˆ" },
            { name: "3rd_place_medal", unicode: "ðŸ¥‰" },
            { name: "soccer", unicode: "âš½" },
            { name: "baseball", unicode: "âš¾" },
            { name: "softball", unicode: "ðŸ¥Ž" },
            { name: "basketball", unicode: "ðŸ€" },
            { name: "volleyball", unicode: "ðŸ" },
            { name: "football", unicode: "ðŸˆ" },
            { name: "rugby_football", unicode: "ðŸ‰" },
            { name: "tennis", unicode: "ðŸŽ¾" },
            { name: "flying_disc", unicode: "ðŸ¥" },
            { name: "bowling", unicode: "ðŸŽ³" },
            { name: "cricket_game", unicode: "ðŸ" },
            { name: "field_hockey", unicode: "ðŸ‘" },
            { name: "ice_hockey", unicode: "ðŸ’" },
            { name: "lacrosse", unicode: "ðŸ¥" },
            { name: "ping_pong", unicode: "ðŸ“" },
            { name: "badminton", unicode: "ðŸ¸" },
            { name: "boxing_glove", unicode: "ðŸ¥Š" },
            { name: "martial_arts_uniform", unicode: "ðŸ¥‹" },
            { name: "goal_net", unicode: "ðŸ¥…" },
            { name: "golf", unicode: "â›³" },
            { name: "ice_skate", unicode: "â›¸ï¸" },
            { name: "fishing_pole_and_fish", unicode: "ðŸŽ£" },
            { name: "diving_mask", unicode: "ðŸ¤¿" },
            { name: "running_shirt_with_sash", unicode: "ðŸŽ½" },
            { name: "ski", unicode: "ðŸŽ¿" },
            { name: "sled", unicode: "ðŸ›·" },
            { name: "curling_stone", unicode: "ðŸ¥Œ" }
          ]
        },
        {
          name: "Objects",
          icon: "ðŸ‘“",
          emojis: [
            { name: "eyeglasses", unicode: "ðŸ‘“" },
            { name: "dark_sunglasses", unicode: "ðŸ•¶ï¸" },
            { name: "goggles", unicode: "ðŸ¥½" },
            { name: "lab_coat", unicode: "ðŸ¥¼" },
            { name: "safety_vest", unicode: "ðŸ¦º" },
            { name: "necktie", unicode: "ðŸ‘”" },
            { name: "shirt", unicode: "ðŸ‘•" },
            { name: "jeans", unicode: "ðŸ‘–" },
            { name: "scarf", unicode: "ðŸ§£" },
            { name: "gloves", unicode: "ðŸ§¤" },
            { name: "coat", unicode: "ðŸ§¥" },
            { name: "socks", unicode: "ðŸ§¦" },
            { name: "dress", unicode: "ðŸ‘—" },
            { name: "kimono", unicode: "ðŸ‘˜" },
            { name: "sari", unicode: "ðŸ¥»" },
            { name: "one_piece_swimsuit", unicode: "ðŸ©±" },
            { name: "briefs", unicode: "ðŸ©²" },
            { name: "shorts", unicode: "ðŸ©³" },
            { name: "bikini", unicode: "ðŸ‘™" },
            { name: "womans_clothes", unicode: "ðŸ‘š" },
            { name: "purse", unicode: "ðŸ‘›" },
            { name: "handbag", unicode: "ðŸ‘œ" },
            { name: "pouch", unicode: "ðŸ‘" },
            { name: "shopping", unicode: "ðŸ›ï¸" },
            { name: "school_satchel", unicode: "ðŸŽ’" },
            { name: "thong_sandal", unicode: "ðŸ©´" },
            { name: "mans_shoe", unicode: "ðŸ‘ž" },
            { name: "athletic_shoe", unicode: "ðŸ‘Ÿ" },
            { name: "hiking_boot", unicode: "ðŸ¥¾" },
            { name: "flat_shoe", unicode: "ðŸ¥¿" },
            { name: "high_heel", unicode: "ðŸ‘ " },
            { name: "sandal", unicode: "ðŸ‘¡" },
            { name: "ballet_shoes", unicode: "ðŸ©°" },
            { name: "boot", unicode: "ðŸ‘¢" },
            { name: "crown", unicode: "ðŸ‘‘" },
            { name: "womans_hat", unicode: "ðŸ‘’" },
            { name: "tophat", unicode: "ðŸŽ©" },
            { name: "mortar_board", unicode: "ðŸŽ“" },
            { name: "billed_cap", unicode: "ðŸ§¢" },
            { name: "military_helmet", unicode: "ðŸª–" },
            { name: "rescue_worker_helmet", unicode: "â›‘ï¸" },
            { name: "prayer_beads", unicode: "ðŸ“¿" },
            { name: "lipstick", unicode: "ðŸ’„" },
            { name: "ring", unicode: "ðŸ’" },
            { name: "gem", unicode: "ðŸ’Ž" }
          ]
        },
        {
          name: "Symbols",
          icon: "â™ˆ",
          emojis: [
            { name: "aries", unicode: "â™ˆ" },
            { name: "taurus", unicode: "â™‰" },
            { name: "gemini", unicode: "â™Š" },
            { name: "cancer", unicode: "â™‹" },
            { name: "leo", unicode: "â™Œ" },
            { name: "virgo", unicode: "â™" },
            { name: "libra", unicode: "â™Ž" },
            { name: "scorpius", unicode: "â™" },
            { name: "sagittarius", unicode: "â™" },
            { name: "capricorn", unicode: "â™‘" },
            { name: "aquarius", unicode: "â™’" },
            { name: "pisces", unicode: "â™“" },
            { name: "ophiuchus", unicode: "â›Ž" },
            { name: "white_check_mark", unicode: "âœ…" },
            { name: "question", unicode: "â“" },
            { name: "grey_question", unicode: "â”" },
            { name: "grey_exclamation", unicode: "â•" },
            { name: "exclamation", unicode: "â—" },
            { name: "heavy_plus_sign", unicode: "âž•" },
            { name: "heavy_minus_sign", unicode: "âž–" },
            { name: "heavy_division_sign", unicode: "âž—" },
            { name: "heavy_multiplication_x", unicode: "âœ–ï¸" },
            { name: "infinity", unicode: "â™¾ï¸" },
            { name: "bangbang", unicode: "â€¼ï¸" },
            { name: "interrobang", unicode: "â‰ï¸" },
            { name: "wavy_dash", unicode: "ã€°ï¸" },
            { name: "currency_exchange", unicode: "ðŸ’±" },
            { name: "heavy_dollar_sign", unicode: "ðŸ’²" },
            { name: "medical_symbol", unicode: "âš•ï¸" },
            { name: "recycle", unicode: "â™»ï¸" },
            { name: "fleur_de_lis", unicode: "âšœï¸" },
            { name: "trident", unicode: "ðŸ”±" },
            { name: "name_badge", unicode: "ðŸ“›" },
            { name: "beginner", unicode: "ðŸ”°" },
            { name: "o", unicode: "â­•" },
            { name: "white_check_mark", unicode: "âœ…" },
            { name: "ballot_box_with_check", unicode: "â˜‘ï¸" },
            { name: "heavy_check_mark", unicode: "âœ”ï¸" },
            { name: "x", unicode: "âŒ" },
            { name: "negative_squared_cross_mark", unicode: "âŽ" },
            { name: "curly_loop", unicode: "âž°" },
            { name: "loop", unicode: "âž¿" },
            { name: "part_alternation_mark", unicode: "ã€½ï¸" },
            { name: "eight_spoked_asterisk", unicode: "âœ³ï¸" },
            { name: "eight_pointed_black_star", unicode: "âœ´ï¸" },
            { name: "sparkle", unicode: "â‡ï¸" },
            { name: "copyright", unicode: "Â©ï¸" },
            { name: "registered", unicode: "Â®ï¸" },
            { name: "tm", unicode: "â„¢ï¸" }
          ]
        },
        {
          name: "Flags",
          icon: "ðŸ",
          emojis: [
            { name: "checkered_flag", unicode: "ðŸ" },
            { name: "triangular_flag_on_post", unicode: "ðŸš©" },
            { name: "crossed_flags", unicode: "ðŸŽŒ" },
            { name: "black_flag", unicode: "ðŸ´" },
            { name: "white_flag", unicode: "ðŸ³ï¸" },
            { name: "rainbow_flag", unicode: "ðŸ³ï¸â€ðŸŒˆ" },
            { name: "transgender_flag", unicode: "ðŸ³ï¸â€âš§ï¸" },
            { name: "pirate_flag", unicode: "ðŸ´â€â˜ ï¸" },
            { name: "flag_af", unicode: "ðŸ‡¦ðŸ‡«" },
            { name: "flag_ax", unicode: "ðŸ‡¦ðŸ‡½" },
            { name: "flag_al", unicode: "ðŸ‡¦ðŸ‡±" },
            { name: "flag_dz", unicode: "ðŸ‡©ðŸ‡¿" },
            { name: "flag_as", unicode: "ðŸ‡¦ðŸ‡¸" },
            { name: "flag_ad", unicode: "ðŸ‡¦ðŸ‡©" },
            { name: "flag_ao", unicode: "ðŸ‡¦ðŸ‡´" },
            { name: "flag_ai", unicode: "ðŸ‡¦ðŸ‡®" },
            { name: "flag_aq", unicode: "ðŸ‡¦ðŸ‡¶" },
            { name: "flag_ag", unicode: "ðŸ‡¦ðŸ‡¬" },
            { name: "flag_ar", unicode: "ðŸ‡¦ðŸ‡·" },
            { name: "flag_am", unicode: "ðŸ‡¦ðŸ‡²" },
            { name: "flag_aw", unicode: "ðŸ‡¦ðŸ‡¼" },
            { name: "flag_au", unicode: "ðŸ‡¦ðŸ‡º" },
            { name: "flag_at", unicode: "ðŸ‡¦ðŸ‡¹" },
            { name: "flag_az", unicode: "ðŸ‡¦ðŸ‡¿" },
            { name: "flag_bs", unicode: "ðŸ‡§ðŸ‡¸" },
            { name: "flag_bh", unicode: "ðŸ‡§ðŸ‡­" },
            { name: "flag_bd", unicode: "ðŸ‡§ðŸ‡©" },
            { name: "flag_bb", unicode: "ðŸ‡§ðŸ‡§" },
            { name: "flag_by", unicode: "ðŸ‡§ðŸ‡¾" },
            { name: "flag_be", unicode: "ðŸ‡§ðŸ‡ª" },
            { name: "flag_bz", unicode: "ðŸ‡§ðŸ‡¿" },
            { name: "flag_bj", unicode: "ðŸ‡§ðŸ‡¯" },
            { name: "flag_bm", unicode: "ðŸ‡§ðŸ‡²" },
            { name: "flag_bt", unicode: "ðŸ‡§ðŸ‡¹" },
            { name: "flag_bo", unicode: "ðŸ‡§ðŸ‡´" },
            { name: "flag_ba", unicode: "ðŸ‡§ðŸ‡¦" },
            { name: "flag_bw", unicode: "ðŸ‡§ðŸ‡¼" },
            { name: "flag_br", unicode: "ðŸ‡§ðŸ‡·" },
            { name: "flag_io", unicode: "ðŸ‡®ðŸ‡´" },
            { name: "flag_bn", unicode: "ðŸ‡§ðŸ‡³" },
            { name: "flag_bg", unicode: "ðŸ‡§ðŸ‡¬" },
            { name: "flag_bf", unicode: "ðŸ‡§ðŸ‡«" },
            { name: "flag_bi", unicode: "ðŸ‡§ðŸ‡®" },
            { name: "flag_kh", unicode: "ðŸ‡°ðŸ‡­" },
            { name: "flag_cm", unicode: "ðŸ‡¨ðŸ‡²" },
            { name: "flag_ca", unicode: "ðŸ‡¨ðŸ‡¦" },
            { name: "flag_ic", unicode: "ðŸ‡®ðŸ‡¨" },
            { name: "flag_cv", unicode: "ðŸ‡¨ðŸ‡»" },
            { name: "flag_bq", unicode: "ðŸ‡§ðŸ‡¶" },
            { name: "flag_ky", unicode: "ðŸ‡°ðŸ‡¾" },
            { name: "flag_cf", unicode: "ðŸ‡¨ðŸ‡«" },
            { name: "flag_td", unicode: "ðŸ‡¹ðŸ‡©" },
            { name: "flag_cl", unicode: "ðŸ‡¨ðŸ‡±" },
            { name: "flag_cn", unicode: "ðŸ‡¨ðŸ‡³" },
            { name: "flag_cx", unicode: "ðŸ‡¨ðŸ‡½" },
            { name: "flag_cc", unicode: "ðŸ‡¨ðŸ‡¨" },
            { name: "flag_co", unicode: "ðŸ‡¨ðŸ‡´" },
            { name: "flag_km", unicode: "ðŸ‡°ðŸ‡²" },
            { name: "flag_cg", unicode: "ðŸ‡¨ðŸ‡¬" },
            { name: "flag_cd", unicode: "ðŸ‡¨ðŸ‡©" },
            { name: "flag_ck", unicode: "ðŸ‡¨ðŸ‡°" },
            { name: "flag_cr", unicode: "ðŸ‡¨ðŸ‡·" },
            { name: "flag_ci", unicode: "ðŸ‡¨ðŸ‡®" },
            { name: "flag_hr", unicode: "ðŸ‡­ðŸ‡·" },
            { name: "flag_cu", unicode: "ðŸ‡¨ðŸ‡º" },
            { name: "flag_cw", unicode: "ðŸ‡¨ðŸ‡¼" },
            { name: "flag_cy", unicode: "ðŸ‡¨ðŸ‡¾" },
            { name: "flag_cz", unicode: "ðŸ‡¨ðŸ‡¿" },
            { name: "flag_dk", unicode: "ðŸ‡©ðŸ‡°" },
            { name: "flag_dj", unicode: "ðŸ‡©ðŸ‡¯" },
            { name: "flag_dm", unicode: "ðŸ‡©ðŸ‡²" },
            { name: "flag_do", unicode: "ðŸ‡©ðŸ‡´" },
            { name: "flag_ec", unicode: "ðŸ‡ªðŸ‡¨" },
            { name: "flag_eg", unicode: "ðŸ‡ªðŸ‡¬" },
            { name: "flag_sv", unicode: "ðŸ‡¸ðŸ‡»" },
            { name: "flag_gq", unicode: "ðŸ‡¬ðŸ‡¶" },
            { name: "flag_er", unicode: "ðŸ‡ªðŸ‡·" },
            { name: "flag_ee", unicode: "ðŸ‡ªðŸ‡ª" },
            { name: "flag_et", unicode: "ðŸ‡ªðŸ‡¹" },
            { name: "flag_eu", unicode: "ðŸ‡ªðŸ‡º" },
            { name: "flag_fk", unicode: "ðŸ‡«ðŸ‡°" },
            { name: "flag_fo", unicode: "ðŸ‡«ðŸ‡´" },
            { name: "flag_fj", unicode: "ðŸ‡«ðŸ‡¯" },
            { name: "flag_fi", unicode: "ðŸ‡«ðŸ‡®" },
            { name: "flag_fr", unicode: "ðŸ‡«ðŸ‡·" },
            { name: "flag_gf", unicode: "ðŸ‡¬ðŸ‡«" },
            { name: "flag_pf", unicode: "ðŸ‡µðŸ‡«" },
            { name: "flag_tf", unicode: "ðŸ‡¹ðŸ‡«" },
            { name: "flag_ga", unicode: "ðŸ‡¬ðŸ‡¦" },
            { name: "flag_gm", unicode: "ðŸ‡¬ðŸ‡²" },
            { name: "flag_ge", unicode: "ðŸ‡¬ðŸ‡ª" },
            { name: "flag_de", unicode: "ðŸ‡©ðŸ‡ª" },
            { name: "flag_gh", unicode: "ðŸ‡¬ðŸ‡­" },
            { name: "flag_gi", unicode: "ðŸ‡¬ðŸ‡®" },
            { name: "flag_gr", unicode: "ðŸ‡¬ðŸ‡·" },
            { name: "flag_gl", unicode: "ðŸ‡¬ðŸ‡±" },
            { name: "flag_gd", unicode: "ðŸ‡¬ðŸ‡©" },
            { name: "flag_gp", unicode: "ðŸ‡¬ðŸ‡µ" },
            { name: "flag_gu", unicode: "ðŸ‡¬ðŸ‡º" },
            { name: "flag_gt", unicode: "ðŸ‡¬ðŸ‡¹" },
            { name: "flag_gg", unicode: "ðŸ‡¬ðŸ‡¬" },
            { name: "flag_gn", unicode: "ðŸ‡¬ðŸ‡³" },
            { name: "flag_gw", unicode: "ðŸ‡¬ðŸ‡¼" },
            { name: "flag_gy", unicode: "ðŸ‡¬ðŸ‡¾" },
            { name: "flag_ht", unicode: "ðŸ‡­ðŸ‡¹" },
            { name: "flag_hn", unicode: "ðŸ‡­ðŸ‡³" },
            { name: "flag_hk", unicode: "ðŸ‡­ðŸ‡°" },
            { name: "flag_hu", unicode: "ðŸ‡­ðŸ‡º" },
            { name: "flag_is", unicode: "ðŸ‡®ðŸ‡¸" },
            { name: "flag_in", unicode: "ðŸ‡®ðŸ‡³" },
            { name: "flag_id", unicode: "ðŸ‡®ðŸ‡©" },
            { name: "flag_ir", unicode: "ðŸ‡®ðŸ‡·" },
            { name: "flag_iq", unicode: "ðŸ‡®ðŸ‡¶" },
            { name: "flag_ie", unicode: "ðŸ‡®ðŸ‡ª" },
            { name: "flag_im", unicode: "ðŸ‡®ðŸ‡²" },
            { name: "flag_il", unicode: "ðŸ‡®ðŸ‡±" },
            { name: "flag_it", unicode: "ðŸ‡®ðŸ‡¹" },
            { name: "flag_jm", unicode: "ðŸ‡¯ðŸ‡²" },
            { name: "flag_jp", unicode: "ðŸ‡¯ðŸ‡µ" },
            { name: "flag_je", unicode: "ðŸ‡¯ðŸ‡ª" },
            { name: "flag_jo", unicode: "ðŸ‡¯ðŸ‡´" },
            { name: "flag_kz", unicode: "ðŸ‡°ðŸ‡¿" },
            { name: "flag_ke", unicode: "ðŸ‡°ðŸ‡ª" },
            { name: "flag_ki", unicode: "ðŸ‡°ðŸ‡®" },
            { name: "flag_xk", unicode: "ðŸ‡½ðŸ‡°" },
            { name: "flag_kw", unicode: "ðŸ‡°ðŸ‡¼" },
            { name: "flag_kg", unicode: "ðŸ‡°ðŸ‡¬" },
            { name: "flag_la", unicode: "ðŸ‡±ðŸ‡¦" },
            { name: "flag_lv", unicode: "ðŸ‡±ðŸ‡»" },
            { name: "flag_lb", unicode: "ðŸ‡±ðŸ‡§" },
            { name: "flag_ls", unicode: "ðŸ‡±ðŸ‡¸" },
            { name: "flag_lr", unicode: "ðŸ‡±ðŸ‡·" },
            { name: "flag_ly", unicode: "ðŸ‡±ðŸ‡¾" },
            { name: "flag_li", unicode: "ðŸ‡±ðŸ‡®" },
            { name: "flag_lt", unicode: "ðŸ‡±ðŸ‡¹" },
            { name: "flag_lu", unicode: "ðŸ‡±ðŸ‡º" },
            { name: "flag_mo", unicode: "ðŸ‡²ðŸ‡´" },
            { name: "flag_mk", unicode: "ðŸ‡²ðŸ‡°" },
            { name: "flag_mg", unicode: "ðŸ‡²ðŸ‡¬" },
            { name: "flag_mw", unicode: "ðŸ‡²ðŸ‡¼" },
            { name: "flag_my", unicode: "ðŸ‡²ðŸ‡¾" },
            { name: "flag_mv", unicode: "ðŸ‡²ðŸ‡»" },
            { name: "flag_ml", unicode: "ðŸ‡²ðŸ‡±" },
            { name: "flag_mt", unicode: "ðŸ‡²ðŸ‡¹" },
            { name: "flag_mh", unicode: "ðŸ‡²ðŸ‡­" },
            { name: "flag_mq", unicode: "ðŸ‡²ðŸ‡¶" },
            { name: "flag_mr", unicode: "ðŸ‡²ðŸ‡·" },
            { name: "flag_mu", unicode: "ðŸ‡²ðŸ‡º" },
            { name: "flag_yt", unicode: "ðŸ‡¾ðŸ‡¹" },
            { name: "flag_mx", unicode: "ðŸ‡²ðŸ‡½" },
            { name: "flag_fm", unicode: "ðŸ‡«ðŸ‡²" },
            { name: "flag_md", unicode: "ðŸ‡²ðŸ‡©" },
            { name: "flag_mc", unicode: "ðŸ‡²ðŸ‡¨" },
            { name: "flag_mn", unicode: "ðŸ‡²ðŸ‡³" },
            { name: "flag_me", unicode: "ðŸ‡²ðŸ‡ª" },
            { name: "flag_ms", unicode: "ðŸ‡²ðŸ‡¸" },
            { name: "flag_ma", unicode: "ðŸ‡²ðŸ‡¦" },
            { name: "flag_mz", unicode: "ðŸ‡²ðŸ‡¿" },
            { name: "flag_mm", unicode: "ðŸ‡²ðŸ‡²" },
            { name: "flag_na", unicode: "ðŸ‡³ðŸ‡¦" },
            { name: "flag_nr", unicode: "ðŸ‡³ðŸ‡·" },
            { name: "flag_np", unicode: "ðŸ‡³ðŸ‡µ" },
            { name: "flag_nl", unicode: "ðŸ‡³ðŸ‡±" },
            { name: "flag_nc", unicode: "ðŸ‡³ðŸ‡¨" },
            { name: "flag_nz", unicode: "ðŸ‡³ðŸ‡¿" },
            { name: "flag_ni", unicode: "ðŸ‡³ðŸ‡®" },
            { name: "flag_ne", unicode: "ðŸ‡³ðŸ‡ª" },
            { name: "flag_ng", unicode: "ðŸ‡³ðŸ‡¬" },
            { name: "flag_nu", unicode: "ðŸ‡³ðŸ‡º" },
            { name: "flag_nf", unicode: "ðŸ‡³ðŸ‡«" },
            { name: "flag_kp", unicode: "ðŸ‡°ðŸ‡µ" },
            { name: "flag_mp", unicode: "ðŸ‡²ðŸ‡µ" },
            { name: "flag_no", unicode: "ðŸ‡³ðŸ‡´" },
            { name: "flag_om", unicode: "ðŸ‡´ðŸ‡²" },
            { name: "flag_pk", unicode: "ðŸ‡µðŸ‡°" },
            { name: "flag_pw", unicode: "ðŸ‡µðŸ‡¼" },
            { name: "flag_ps", unicode: "ðŸ‡µðŸ‡¸" },
            { name: "flag_pa", unicode: "ðŸ‡µðŸ‡¦" },
            { name: "flag_pg", unicode: "ðŸ‡µðŸ‡¬" },
            { name: "flag_py", unicode: "ðŸ‡µðŸ‡¾" },
            { name: "flag_pe", unicode: "ðŸ‡µðŸ‡ª" },
            { name: "flag_ph", unicode: "ðŸ‡µðŸ‡­" },
            { name: "flag_pn", unicode: "ðŸ‡µðŸ‡³" },
            { name: "flag_pl", unicode: "ðŸ‡µðŸ‡±" },
            { name: "flag_pt", unicode: "ðŸ‡µðŸ‡¹" },
            { name: "flag_pr", unicode: "ðŸ‡µðŸ‡·" },
            { name: "flag_qa", unicode: "ðŸ‡¶ðŸ‡¦" },
            { name: "flag_re", unicode: "ðŸ‡·ðŸ‡ª" },
            { name: "flag_ro", unicode: "ðŸ‡·ðŸ‡´" },
            { name: "flag_ru", unicode: "ðŸ‡·ðŸ‡º" },
            { name: "flag_rw", unicode: "ðŸ‡·ðŸ‡¼" },
            { name: "flag_ws", unicode: "ðŸ‡¼ðŸ‡¸" },
            { name: "flag_sm", unicode: "ðŸ‡¸ðŸ‡²" },
            { name: "flag_st", unicode: "ðŸ‡¸ðŸ‡¹" },
            { name: "flag_sa", unicode: "ðŸ‡¸ðŸ‡¦" },
            { name: "flag_sn", unicode: "ðŸ‡¸ðŸ‡³" },
            { name: "flag_rs", unicode: "ðŸ‡·ðŸ‡¸" },
            { name: "flag_sc", unicode: "ðŸ‡¸ðŸ‡¨" },
            { name: "flag_sl", unicode: "ðŸ‡¸ðŸ‡±" },
            { name: "flag_sg", unicode: "ðŸ‡¸ðŸ‡¬" },
            { name: "flag_sx", unicode: "ðŸ‡¸ðŸ‡½" },
            { name: "flag_sk", unicode: "ðŸ‡¸ðŸ‡°" },
            { name: "flag_si", unicode: "ðŸ‡¸ðŸ‡®" },
            { name: "flag_sb", unicode: "ðŸ‡¸ðŸ‡§" },
            { name: "flag_so", unicode: "ðŸ‡¸ðŸ‡´" },
            { name: "flag_za", unicode: "ðŸ‡¿ðŸ‡¦" },
            { name: "flag_gs", unicode: "ðŸ‡¬ðŸ‡¸" },
            { name: "flag_kr", unicode: "ðŸ‡°ðŸ‡·" },
            { name: "flag_ss", unicode: "ðŸ‡¸ðŸ‡¸" },
            { name: "flag_es", unicode: "ðŸ‡ªðŸ‡¸" },
            { name: "flag_lk", unicode: "ðŸ‡±ðŸ‡°" },
            { name: "flag_bl", unicode: "ðŸ‡§ðŸ‡±" },
            { name: "flag_sh", unicode: "ðŸ‡¸ðŸ‡­" },
            { name: "flag_kn", unicode: "ðŸ‡°ðŸ‡³" },
            { name: "flag_lc", unicode: "ðŸ‡±ðŸ‡¨" },
            { name: "flag_mf", unicode: "ðŸ‡²ðŸ‡«" },
            { name: "flag_pm", unicode: "ðŸ‡µðŸ‡²" },
            { name: "flag_vc", unicode: "ðŸ‡»ðŸ‡¨" },
            { name: "flag_sd", unicode: "ðŸ‡¸ðŸ‡©" },
            { name: "flag_sr", unicode: "ðŸ‡¸ðŸ‡·" },
            { name: "flag_sj", unicode: "ðŸ‡¸ðŸ‡¯" },
            { name: "flag_sz", unicode: "ðŸ‡¸ðŸ‡¿" },
            { name: "flag_se", unicode: "ðŸ‡¸ðŸ‡ª" },
            { name: "flag_ch", unicode: "ðŸ‡¨ðŸ‡­" },
            { name: "flag_sy", unicode: "ðŸ‡¸ðŸ‡¾" },
            { name: "flag_tw", unicode: "ðŸ‡¹ðŸ‡¼" },
            { name: "flag_tj", unicode: "ðŸ‡¹ðŸ‡¯" },
            { name: "flag_tz", unicode: "ðŸ‡¹ðŸ‡¿" },
            { name: "flag_th", unicode: "ðŸ‡¹ðŸ‡­" },
            { name: "flag_tl", unicode: "ðŸ‡¹ðŸ‡±" },
            { name: "flag_tg", unicode: "ðŸ‡¹ðŸ‡¬" },
            { name: "flag_tk", unicode: "ðŸ‡¹ðŸ‡°" },
            { name: "flag_to", unicode: "ðŸ‡¹ðŸ‡´" },
            { name: "flag_tt", unicode: "ðŸ‡¹ðŸ‡¹" },
            { name: "flag_tn", unicode: "ðŸ‡¹ðŸ‡³" },
            { name: "flag_tr", unicode: "ðŸ‡¹ðŸ‡·" },
            { name: "flag_tm", unicode: "ðŸ‡¹ðŸ‡²" },
            { name: "flag_tc", unicode: "ðŸ‡¹ðŸ‡¨" },
            { name: "flag_tv", unicode: "ðŸ‡¹ðŸ‡»" },
            { name: "flag_ug", unicode: "ðŸ‡ºðŸ‡¬" },
            { name: "flag_ua", unicode: "ðŸ‡ºðŸ‡¦" },
            { name: "flag_ae", unicode: "ðŸ‡¦ðŸ‡ª" },
            { name: "flag_gb", unicode: "ðŸ‡¬ðŸ‡§" },
            { name: "flag_us", unicode: "ðŸ‡ºðŸ‡¸" },
            { name: "flag_um", unicode: "ðŸ‡ºðŸ‡²" },
            { name: "flag_vi", unicode: "ðŸ‡»ðŸ‡®" },
            { name: "flag_uy", unicode: "ðŸ‡ºðŸ‡¾" },
            { name: "flag_uz", unicode: "ðŸ‡ºðŸ‡¿" },
            { name: "flag_vu", unicode: "ðŸ‡»ðŸ‡º" },
            { name: "flag_va", unicode: "ðŸ‡»ðŸ‡¦" },
            { name: "flag_ve", unicode: "ðŸ‡»ðŸ‡ª" },
            { name: "flag_vn", unicode: "ðŸ‡»ðŸ‡³" },
            { name: "flag_wf", unicode: "ðŸ‡¼ðŸ‡«" },
            { name: "flag_eh", unicode: "ðŸ‡ªðŸ‡­" },
            { name: "flag_ye", unicode: "ðŸ‡¾ðŸ‡ª" },
            { name: "flag_zm", unicode: "ðŸ‡¿ðŸ‡²" },
            { name: "flag_zw", unicode: "ðŸ‡¿ðŸ‡¼" },
            { name: "flag_england", unicode: "ðŸ´ó §ó ¢ó ¥ó ®ó §ó ¿" },
            { name: "flag_scotland", unicode: "ðŸ´ó §ó ¢ó ³ó £ó ´ó ¿" },
            { name: "flag_wales", unicode: "ðŸ´ó §ó ¢ó ·ó ¬ó ³ó ¿" }
          ]
        }
      ];

      // App state
      let currentCategory = 0;
      let currentEmoji = 0;
      let outputText = false;
      let copyMode = false;
      let hoveredEmoji = null;
      let hoverTimeout = null;
      let allEmojis = [];
      let filteredEmojis = [];
      let searchQuery = '';

      // Initialize the app
      function init() {
        flattenEmojis();
        setupEventListeners();
        updateDisplay();
        updateSelectedEmoji();
      }

      // Flatten all emojis for search
      function flattenEmojis() {
        allEmojis = [];
        categories.forEach((category, categoryIndex) => {
          category.emojis.forEach((emoji, emojiIndex) => {
            allEmojis.push({
              ...emoji,
              categoryIndex,
              emojiIndex
            });
          });
        });
        filteredEmojis = [...allEmojis];
      }

      // Setup event listeners
      function setupEventListeners() {
        // Keyboard navigation
        document.addEventListener('keydown', handleKeyDown);
        
        // Category tabs
        document.querySelectorAll('.category-tab').forEach((tab, index) => {
          tab.addEventListener('click', () => switchCategory(index));
        });

        // Emoji clicks
        document.querySelectorAll('.emoji-item').forEach(item => {
          item.addEventListener('click', handleEmojiClick);
          item.addEventListener('mouseenter', handleEmojiHover);
          item.addEventListener('mouseleave', handleEmojiLeave);
          item.addEventListener('focus', handleEmojiHover);
          item.addEventListener('blur', handleEmojiLeave);
        });

        // Search input
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', handleSearch);

        // Control buttons
        document.getElementById('toggleOutput').addEventListener('click', toggleOutputFormat);
        document.getElementById('copyMode').addEventListener('click', toggleCopyMode);
        document.getElementById('copyButton').addEventListener('click', copySelectedEmoji);
        document.getElementById('insertButton').addEventListener('click', insertSelectedEmoji);

        // Mobile touch events
        if ('ontouchstart' in window) {
          document.querySelectorAll('.emoji-item').forEach(item => {
            item.addEventListener('touchstart', handleEmojiTouch);
          });
        }
      }

      // Handle keyboard navigation
      function handleKeyDown(event) {
        if (event.target.id === 'searchInput') {
          if (event.key === 'Escape') {
            clearSearch();
            return;
          }
          if (event.key === 'ArrowDown') {
            event.preventDefault();
            document.querySelector('.emoji-item[tabindex="0"]')?.focus();
            return;
          }
          return;
        }

        switch (event.key) {
          case 'ArrowUp':
            event.preventDefault();
            navigateUp();
            break;
          case 'ArrowDown':
            event.preventDefault();
            navigateDown();
            break;
          case 'ArrowLeft':
            event.preventDefault();
            navigateLeft();
            break;
          case 'ArrowRight':
            event.preventDefault();
            navigateRight();
            break;
          case 'Tab':
            if (event.shiftKey) {
              event.preventDefault();
              switchCategory(currentCategory > 0 ? currentCategory - 1 : categories.length - 1);
            } else {
              event.preventDefault();
              switchCategory((currentCategory + 1) % categories.length);
            }
            break;
          case 'Enter':
            event.preventDefault();
            selectCurrentEmoji();
            break;
          case 'Escape':
            clearSearch();
            break;
          case '/':
            event.preventDefault();
            document.getElementById('searchInput').focus();
            break;
          case 'c':
            if (event.ctrlKey || event.metaKey) {
              event.preventDefault();
              copySelectedEmoji();
            }
            break;
          case 't':
            event.preventDefault();
            toggleOutputFormat();
            break;
        }
      }

      // Navigation functions
      function navigateUp() {
        const currentGrid = getCurrentGrid();
        if (currentEmoji >= 9) {
          currentEmoji -= 9;
          updateEmojiSelection();
        }
      }

      function navigateDown() {
        const currentGrid = getCurrentGrid();
        const maxIndex = currentGrid.length - 1;
        if (currentEmoji + 9 <= maxIndex) {
          currentEmoji += 9;
          updateEmojiSelection();
        }
      }

      function navigateLeft() {
        if (currentEmoji > 0) {
          currentEmoji--;
          updateEmojiSelection();
        }
      }

      function navigateRight() {
        const currentGrid = getCurrentGrid();
        const maxIndex = currentGrid.length - 1;
        if (currentEmoji < maxIndex) {
          currentEmoji++;
          updateEmojiSelection();
        }
      }

      function getCurrentGrid() {
        return searchQuery ? filteredEmojis : categories[currentCategory].emojis;
      }

      // Category switching
      function switchCategory(index) {
        if (index === currentCategory) return;
        
        currentCategory = index;
        currentEmoji = 0;
        clearSearch();
        updateDisplay();
        updateEmojiSelection();
      }

      // Update display
      function updateDisplay() {
        // Update category tabs
        document.querySelectorAll('.category-tab').forEach((tab, index) => {
          const isActive = index === currentCategory;
          tab.setAttribute('aria-selected', isActive);
          tab.tabIndex = isActive ? 0 : -1;
          
          if (isActive) {
            tab.className = 'category-tab px-4 py-2 rounded-lg border-2 border-blue-500 bg-blue-500 text-white transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark\:focus:ring-offset-gray-900';
          } else {
            tab.className = 'category-tab px-4 py-2 rounded-lg border-2 border-transparent bg-white dark\:bg-gray-800 text-gray-700 dark\:text-gray-300 border-gray-200 dark\:border-gray-700 hover:bg-gray-50 dark\:hover:bg-gray-700 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark\:focus:ring-offset-gray-900';
          }
        });

        // Update emoji panels
        document.querySelectorAll('.emoji-panel').forEach((panel, index) => {
          if (index === currentCategory && !searchQuery) {
            panel.classList.remove('hidden');
            panel.classList.add('block');
          } else {
            panel.classList.add('hidden');
            panel.classList.remove('block');
          }
        });

        // Update search results
        if (searchQuery) {
          showSearchResults();
        }
      }

      // Update emoji selection
      function updateEmojiSelection() {
        document.querySelectorAll('.emoji-item').forEach(item => {
          item.classList.remove('selected');
          item.tabIndex = -1;
        });

        const currentGrid = getCurrentGrid();
        if (currentGrid.length > 0) {
          const currentEmojiData = currentGrid[currentEmoji];
          let selector;
          
          if (searchQuery) {
            selector = `.emoji-item[data-category="${currentEmojiData.categoryIndex}"][data-index="${currentEmojiData.emojiIndex}"]`;
          } else {
            selector = `.emoji-item[data-category="${currentCategory}"][data-index="${currentEmoji}"]`;
          }
          
          const activeItem = document.querySelector(selector);
          if (activeItem) {
            activeItem.classList.add('selected');
            activeItem.tabIndex = 0;
            activeItem.focus();
            activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
          }
        }

        updateSelectedEmoji();
      }

      // Update selected emoji display
      function updateSelectedEmoji() {
        const currentGrid = getCurrentGrid();
        if (currentGrid.length > 0) {
          const emoji = currentGrid[currentEmoji];
          document.getElementById('selectedEmoji').textContent = emoji.unicode;
          document.getElementById('selectedName').textContent = outputText ? `:${emoji.name}` : emoji.unicode;
        }
      }

      // Handle emoji interactions
      function handleEmojiClick(event) {
        const item = event.target;
        const category = parseInt(item.dataset.category);
        const index = parseInt(item.dataset.index);
        
        if (searchQuery) {
          const emoji = filteredEmojis.find(e => e.categoryIndex === category && e.emojiIndex === index);
          if (emoji) {
            currentEmoji = filteredEmojis.indexOf(emoji);
          }
        } else {
          currentCategory = category;
          currentEmoji = index;
        }
        
        updateEmojiSelection();
        selectCurrentEmoji();
      }

      function handleEmojiHover(event) {
        const item = event.target;
        hoveredEmoji = item;
        
        clearTimeout(hoverTimeout);
        hoverTimeout = setTimeout(() => {
          if (hoveredEmoji === item) {
            showTooltip(item);
          }
        }, 1000);
      }

      function handleEmojiLeave(event) {
        hoveredEmoji = null;
        clearTimeout(hoverTimeout);
        hideTooltip();
      }

      function handleEmojiTouch(event) {
        const item = event.target;
        showTooltip(item);
        setTimeout(() => hideTooltip(), 2000);
      }

      // Tooltip functions
      function showTooltip(item) {
        const tooltip = document.getElementById('emojiTooltip');
        const name = item.dataset.name;
        const rect = item.getBoundingClientRect();
        
        tooltip.textContent = `:${name}`;
        tooltip.style.left = rect.left + rect.width / 2 + 'px';
        tooltip.style.top = rect.top + window.scrollY + 'px';
        tooltip.classList.remove('hidden');
      }

      function hideTooltip() {
        document.getElementById('emojiTooltip').classList.add('hidden');
      }

      // Select current emoji
      function selectCurrentEmoji() {
        const currentGrid = getCurrentGrid();
        if (currentGrid.length > 0) {
          const emoji = currentGrid[currentEmoji];
          const output = outputText ? `:${emoji.name}` : emoji.unicode;
          
          if (copyMode) {
            navigator.clipboard.writeText(output).then(() => {
              showNotification('Copied to clipboard!');
            });
          } else {
            insertIntoActiveElement(output);
          }
        }
      }

      // Search functionality
      function handleSearch(event) {
        searchQuery = event.target.value.toLowerCase();
        
        if (searchQuery) {
          filteredEmojis = allEmojis.filter(emoji => 
            emoji.name.toLowerCase().includes(searchQuery) ||
            emoji.unicode.includes(searchQuery)
          );
          
          if (filteredEmojis.length > 0) {
            currentEmoji = 0;
            showSearchResults();
          } else {
            showNoResults();
          }
        } else {
          clearSearch();
        }
        
        updateEmojiSelection();
      }

      function showSearchResults() {
        // Hide all panels
        document.querySelectorAll('.emoji-panel').forEach(panel => {
          panel.classList.add('hidden');
        });
        
        // Show search results
        let searchPanel = document.getElementById('searchResults');
        if (!searchPanel) {
          searchPanel = createSearchResultsPanel();
          document.querySelector('.emoji-panels').appendChild(searchPanel);
        }
        
        const grid = searchPanel.querySelector('.emoji-grid');
        grid.innerHTML = '';
        
        filteredEmojis.forEach((emoji, index) => {
          const button = document.createElement('button');
          button.className = 'emoji-item';
          button.setAttribute('role', 'gridcell');
          button.setAttribute('data-emoji', emoji.unicode);
          button.setAttribute('data-name', emoji.name);
          button.setAttribute('data-category', emoji.categoryIndex);
          button.setAttribute('data-index', emoji.emojiIndex);
          button.setAttribute('aria-label', `${emoji.name} emoji`);
          button.setAttribute('title', `:${emoji.name}`);
          button.tabIndex = index === 0 ? 0 : -1;
          button.textContent = emoji.unicode;
          
          button.addEventListener('click', handleEmojiClick);
          button.addEventListener('mouseenter', handleEmojiHover);
          button.addEventListener('mouseleave', handleEmojiLeave);
          button.addEventListener('focus', handleEmojiHover);
          button.addEventListener('blur', handleEmojiLeave);
          
          if ('ontouchstart' in window) {
            button.addEventListener('touchstart', handleEmojiTouch);
          }
          
          grid.appendChild(button);
        });
        
        searchPanel.classList.remove('hidden');
      }

      function createSearchResultsPanel() {
        const panel = document.createElement('div');
        panel.id = 'searchResults';
        panel.className = 'emoji-panel';
        panel.setAttribute('role', 'tabpanel');
        panel.setAttribute('aria-label', 'Search results');
        
        panel.innerHTML = `
          <div class="bg-white dark\:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark\:border-gray-700">
            <div class="p-6">
              <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
                <span class="text-2xl">ðŸ”</span>
                <span>Search Results</span>
              </h2>
              <div class="emoji-grid" role="grid" aria-label="Search results emojis"></div>
            </div>
          </div>
        `;
        
        return panel;
      }

      function showNoResults() {
        let searchPanel = document.getElementById('searchResults');
        if (!searchPanel) {
          searchPanel = createSearchResultsPanel();
          document.querySelector('.emoji-panels').appendChild(searchPanel);
        }
        
        const grid = searchPanel.querySelector('.emoji-grid');
        grid.innerHTML = '<div class="col-span-full text-center text-gray-500 dark\:text-gray-400 py-8">No emojis found</div>';
        
        searchPanel.classList.remove('hidden');
      }

      function clearSearch() {
        searchQuery = '';
        filteredEmojis = [...allEmojis];
        document.getElementById('searchInput').value = '';
        
        const searchPanel = document.getElementById('searchResults');
        if (searchPanel) {
          searchPanel.classList.add('hidden');
        }
        
        updateDisplay();
      }

      // Control functions
      function toggleOutputFormat() {
        outputText = !outputText;
        const button = document.getElementById('toggleOutput');
        const format = document.getElementById('outputFormat');
        
        button.setAttribute('aria-checked', outputText);
        format.textContent = outputText ? 'Text' : 'Unicode';
        
        if (outputText) {
          button.className = 'px-3 py-1 rounded-full bg-green-100 dark\:bg-green-900 text-green-800 dark\:text-green-200 hover:bg-green-200 dark\:hover:bg-green-800 transition-colors';
        } else {
          button.className = 'px-3 py-1 rounded-full bg-blue-100 dark\:bg-blue-900 text-blue-800 dark\:text-blue-200 hover:bg-blue-200 dark\:hover:bg-blue-800 transition-colors';
        }
        
        updateSelectedEmoji();
      }

      function toggleCopyMode() {
        copyMode = !copyMode;
        const button = document.getElementById('copyMode');
        
        if (copyMode) {
          button.textContent = 'Insert Mode';
          button.className = 'px-3 py-1 rounded-full bg-purple-100 dark\:bg-purple-900 text-purple-800 dark\:text-purple-200 hover:bg-purple-200 dark\:hover:bg-purple-800 transition-colors';
        } else {
          button.textContent = 'Copy Mode';
          button.className = 'px-3 py-1 rounded-full bg-green-100 dark\:bg-green-900 text-green-800 dark\:text-green-200 hover:bg-green-200 dark\:hover:bg-green-800 transition-colors';
        }
      }

      function copySelectedEmoji() {
        const currentGrid = getCurrentGrid();
        if (currentGrid.length > 0) {
          const emoji = currentGrid[currentEmoji];
          const output = outputText ? `:${emoji.name}` : emoji.unicode;
          
          navigator.clipboard.writeText(output).then(() => {
            showNotification('Copied to clipboard!');
          });
        }
      }

      function insertSelectedEmoji() {
        const currentGrid = getCurrentGrid();
        if (currentGrid.length > 0) {
          const emoji = currentGrid[currentEmoji];
          const output = outputText ? `:${emoji.name}` : emoji.unicode;
          insertIntoActiveElement(output);
        }
      }

      function insertIntoActiveElement(text) {
        const activeElement = document.activeElement;
        
        if (activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA')) {
          const start = activeElement.selectionStart;
          const end = activeElement.selectionEnd;
          const value = activeElement.value;
          
          activeElement.value = value.slice(0, start) + text + value.slice(end);
          activeElement.selectionStart = activeElement.selectionEnd = start + text.length;
          activeElement.focus();
          
          showNotification('Inserted emoji!');
        } else {
          // Fallback to clipboard
          navigator.clipboard.writeText(text).then(() => {
            showNotification('Copied to clipboard!');
          });
        }
      }

      function showNotification(message) {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in';
        notification.textContent = message;
        
        document.body.appendChild(notification);
        
        setTimeout(() => {
          notification.remove();
        }, 2000);
      }

      // Initialize the app when DOM is loaded
      document.addEventListener('DOMContentLoaded', init);
